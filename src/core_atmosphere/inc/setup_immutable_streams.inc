function atm_setup_immutable_streams(manager) result(iErr)

   use MPAS_derived_types, only : MPAS_streamManager_type, &
                                  MPAS_STREAM_INPUT_OUTPUT, MPAS_STREAM_INPUT, &
                                  MPAS_STREAM_OUTPUT, MPAS_STREAM_NONE, MPAS_STREAM_PROPERTY_IMMUTABLE
   use MPAS_stream_manager, only : MPAS_stream_mgr_create_stream, MPAS_stream_mgr_set_property, &
                                   MPAS_stream_mgr_add_field, MPAS_stream_mgr_add_pool
   use mpas_io_units

   implicit none

   type (MPAS_streamManager_type), pointer :: manager
   character (len=StrKIND) :: packages
   integer :: iErr

   iErr = 0

   call MPAS_stream_mgr_create_stream(manager, 'invariant', MPAS_STREAM_INPUT, 'invariant.nc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'latCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'lonCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'xCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'yCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'indexToCellID', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'latEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'lonEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'xEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'yEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'indexToEdgeID', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'latVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'lonVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'xVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'yVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'indexToVertexID', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'cellsOnEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'nEdgesOnCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'nEdgesOnEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'edgesOnCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'edgesOnEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'weightsOnEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'dvEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'dcEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'angleEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'areaCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'areaTriangle', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'edgeNormalVectors', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'localVerticalUnitVectors', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'cellTangentPlane', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'cellsOnCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'verticesOnCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'verticesOnEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'edgesOnVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'cellsOnVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'kiteAreasOnVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'fEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'fVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'meshDensity', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'nominalMinDc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'bdyMaskCell', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'bdyMaskEdge', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'bdyMaskVertex', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'cf1', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'cf2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'cf3', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zgrid', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'rdzw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'dzu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'rdzu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'fzm', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'fzp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zxu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zz', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'zb3', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'dss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'deriv_two', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'defc_a', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'defc_b', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'coeffs_reconstruct', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'isltyp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'ivgtyp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'mminlu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'isice_lu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'iswater_lu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'landmask', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'shdmin', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'shdmax', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'snoalb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'albedo12m', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'greenfrac', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'var2d', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'con', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'oa1', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'oa2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'oa3', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'oa4', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'ol1', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'ol2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'ol3', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'ol4', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'soilcomp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'soilcl1', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'soilcl2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'soilcl3', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'invariant', 'soilcl4', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'invariant', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

   call MPAS_stream_mgr_create_stream(manager, 'input', MPAS_STREAM_INPUT, 'x1.40962.init.nc', ierr=ierr)
   write(packages,'(a)') 'no_invariant_stream'
   call MPAS_stream_mgr_add_field(manager, 'input', 'latCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'lonCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'xCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'yCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'indexToCellID', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'latEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'lonEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'xEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'yEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'indexToEdgeID', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'latVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'lonVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'xVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'yVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'indexToVertexID', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'cellsOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'nEdgesOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'nEdgesOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'edgesOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'edgesOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'weightsOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'dvEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'dcEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'angleEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'areaCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'areaTriangle', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'edgeNormalVectors', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'localVerticalUnitVectors', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'cellTangentPlane', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'cellsOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'verticesOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'verticesOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'edgesOnVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'cellsOnVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'kiteAreasOnVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'fEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'fVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'meshDensity', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'nominalMinDc', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'bdyMaskCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'bdyMaskEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'bdyMaskVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'cf1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'cf2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'cf3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zgrid', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'rdzw', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'dzu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'rdzu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'fzm', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'fzp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zxu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zz', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zb', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'zb3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'dss', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'deriv_two', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'defc_a', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'defc_b', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'coeffs_reconstruct', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'isltyp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'ivgtyp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'mminlu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'isice_lu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'iswater_lu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'landmask', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'shdmin', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'shdmax', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'snoalb', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'albedo12m', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'greenfrac', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'var2d', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'con', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'oa1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'oa2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'oa3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'oa4', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'ol1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'ol2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'ol3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'ol4', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'soilcomp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'soilcl1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'soilcl2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'soilcl3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'soilcl4', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'scalars', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'u_init', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'v_init', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 't_init', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'initial_time', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'xtime', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'Time', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'u', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'w', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'rho', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'theta', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'relhum', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'rho_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'theta_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'surface_pressure', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'sfc_albbck', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'skintemp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'snow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'snowc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'snowh', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'sst', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'tmn', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'vegfra', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'seaice', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'xice', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'xland', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'u10', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'v10', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'q2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 't2m', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'precipw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'dzs', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'sh2o', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'smois', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'tslb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'input', 'h_oml_initial', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'input', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

   call MPAS_stream_mgr_create_stream(manager, 'restart', MPAS_STREAM_INPUT_OUTPUT, 'restart.$Y-$M-$D_$h.$m.$s.nc', ierr=ierr)
   write(packages,'(a)') 'no_invariant_stream'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'latCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'lonCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'yCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'indexToCellID', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'latEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'lonEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'yEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'indexToEdgeID', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'latVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'lonVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'yVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'indexToVertexID', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cellsOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nEdgesOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nEdgesOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edgesOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edgesOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'weightsOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dvEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dcEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'angleEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'areaCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'areaTriangle', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edgeNormalVectors', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'localVerticalUnitVectors', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cellTangentPlane', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cellsOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'verticesOnCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'verticesOnEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edgesOnVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cellsOnVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'kiteAreasOnVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'fEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'fVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'meshDensity', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nominalMinDc', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'bdyMaskCell', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'bdyMaskEdge', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'bdyMaskVertex', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cf1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cf2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cf3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zgrid', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rdzw', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dzu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rdzu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'fzm', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'fzp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zxu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zz', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zb', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zb3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dss', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'deriv_two', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'defc_a', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'defc_b', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'coeffs_reconstruct', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'isltyp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ivgtyp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'mminlu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'isice_lu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'iswater_lu', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'landmask', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'shdmin', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'shdmax', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snoalb', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'albedo12m', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'greenfrac', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'var2d', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'con', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'oa1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'oa2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'oa3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'oa4', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ol1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ol2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ol3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ol4', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'soilcomp', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'soilcl1', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'soilcl2', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'soilcl3', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'soilcl4', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_pool(manager, 'restart', 'diag_physics_noahmp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'scalars', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'u_init', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'v_init', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 't_init', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qv_init', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'initial_time', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xtime', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'Time', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'u', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'w', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rho_zz', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'theta_m', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'pressure_p', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rho', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'theta', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'relhum', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'circulation', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'exner', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'exner_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rtheta_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'pressure_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rho_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'theta_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ru', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ru_p', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rw_p', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rtheta_p', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rho_p', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'surface_pressure', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rainprod', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'evapprod', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 're_cloud', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 're_ice', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 're_snow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nwfa2d', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nifa2d', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nt_c', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'mu_c', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tend_sfc_pressure', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rt_diabatic_tend', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nsteps_accum_rad', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nsteps_accum', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ndays_accum', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tlag', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tday_accum', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tyear_mean', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tyear_accum', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'refl10cm_max', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_rainnc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rainncv', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rainnc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snowncv', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snownc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'graupelncv', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'graupelnc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sr', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_rainc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cuprec', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rainc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'raincv', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'nca', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cubot', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cutop', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'w0avg', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qcg', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sh3d', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sm3d', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qke', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qke_adv', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cov', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qsq', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tsq', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tke_pbl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'wstar', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'delta', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'el_pbl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edmf_a', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edmf_w', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edmf_qt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edmf_qc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edmf_thl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'edmf_ent', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sub_thl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sub_qv', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'det_thl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'det_qv', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cldfrac_bl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qc_bl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qi_bl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ch', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'kpbl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'hpbl', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'hfx', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'mavail', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'mol', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qfx', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qsfc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ust', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ustm', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zol', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'znt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'br', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cd', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cda', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'chs', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'chs2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cqs2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ck', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cka', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'cpm', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'flhc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'flqc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'gz1oz0', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'lh', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'psim', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'psih', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qgh', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'regime', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rmol', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'wspd', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'fh', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'fm', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'u10', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'v10', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'q2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 't2m', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'th2m', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dusfcg', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dvsfcg', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dtaux3d', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dtauy3d', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rubldiff', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rvbldiff', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswdnb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswdnbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswdnt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswdntc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswupb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswupbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswupt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_acswuptc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswdnb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswdnbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswdnt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswdntc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswupb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswupbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswupt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acswuptc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'gsw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwdnb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwdnbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwdnt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwdntc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwupb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwupbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwupt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'i_aclwuptc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwdnb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwdnbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwdnt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwdntc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwupb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwupbc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwupt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'aclwuptc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'glw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'o3clim', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'o3vmr', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acsnom', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'acsnow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'canwat', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'chklowq', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'grdflx', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'lai', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'noahres', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'potevp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sfc_albedo', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sfc_emiss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sfc_emibck', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sfcrunoff', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'smstav', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'smstot', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snopcx', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snotime', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sstsk', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sstsk_dtc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sstsk_dtw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'thc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'udrunoff', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xicem', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'z0', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'zs', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'k22_shallow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'kbcon_shallow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ktop_shallow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'ktop_deep', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xmb_total', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xmb_shallow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qc_cu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'qi_cu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rthmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqvmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqcmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqrmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqimpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqsmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqgmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rncmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rnimpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rnrmpten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rnifampten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rnwfampten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rthcuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqvcuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqccuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqicuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqrcuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqscuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqvdynten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rthdynten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rucuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rvcuten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rublten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rvblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rthblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqvblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqcblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqiblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rqsblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rncblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rniblten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rnifablten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rnwfablten', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rthratensw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rthratenlw', ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rcnvcfcuten', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'rbuoyxcuten', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'umcl', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'vmcl', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'wlpool', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'vcpool', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sub3d_rthcuten', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sub3d_rqvcuten', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sub3d_rucuten', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sub3d_rvcuten', packages=packages, ierr=ierr)
   write(packages,'(a)') 'cu_gf_monan_in'
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sigma_deep', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sfc_albbck', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'skintemp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snowc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'snowh', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sst', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tmn', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'vegfra', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'seaice', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xice', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'xland', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'dzs', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'smcrel', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'sh2o', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'smois', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'tslb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 't_oml', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 't_oml_initial', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 't_oml_200m_initial', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'h_oml', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'h_oml_initial', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'hu_oml', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'restart', 'hv_oml', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'restart', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

   call MPAS_stream_mgr_create_stream(manager, 'iau', MPAS_STREAM_INPUT, 'x1.40962.AmB.$Y-$M-$D_$h.$m.$s.nc', ierr=ierr)
   call MPAS_stream_mgr_add_pool(manager, 'iau', 'tend_iau', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'iau', 'xtime', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'iau', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

   call MPAS_stream_mgr_create_stream(manager, 'lbc_in', MPAS_STREAM_INPUT, 'lbc.$Y-$M-$D_$h.$m.$s.nc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'lbc_in', 'lbc_scalars', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'lbc_in', 'lbc_u', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'lbc_in', 'lbc_w', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'lbc_in', 'lbc_rho', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'lbc_in', 'lbc_theta', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'lbc_in', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

   call MPAS_stream_mgr_create_stream(manager, 'ugwp_oro_data_in', MPAS_STREAM_INPUT, 'x1.40962.ugwp_oro_data.nc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'var2dls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'conls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa1ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa2ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa3ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa4ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol1ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol2ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol3ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol4ls', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'var2dss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'conss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa1ss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa2ss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa3ss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'oa4ss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol1ss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol2ss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol3ss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_oro_data_in', 'ol4ss', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'ugwp_oro_data_in', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

   call MPAS_stream_mgr_create_stream(manager, 'ugwp_ngw_in', MPAS_STREAM_INPUT, 'ugwp_limb_tau.nc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_ngw_in', 'LATS', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_ngw_in', 'DAYS', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'ugwp_ngw_in', 'ABSMF', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'ugwp_ngw_in', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

   call MPAS_stream_mgr_create_stream(manager, 'da_state', MPAS_STREAM_INPUT_OUTPUT, 'mpasout.$Y-$M-$D_$h.$m.$s.nc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'scalars', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'initial_time', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'xtime', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'u', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'w', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'rho', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'pressure_p', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'pressure_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'theta', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'relhum', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'rho_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'theta_base', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'uReconstructZonal', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'uReconstructMeridional', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'surface_pressure', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'cldfrac', ierr=ierr)
   write(packages,'(a)') 'mp_thompson_in;mp_wsm6_in'
   call MPAS_stream_mgr_add_field(manager, 'da_state', 're_cloud', packages=packages, ierr=ierr)
   write(packages,'(a)') 'mp_thompson_in;mp_wsm6_in'
   call MPAS_stream_mgr_add_field(manager, 'da_state', 're_ice', packages=packages, ierr=ierr)
   write(packages,'(a)') 'mp_thompson_in;mp_wsm6_in'
   call MPAS_stream_mgr_add_field(manager, 'da_state', 're_snow', packages=packages, ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'refl10cm', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'refl10cm_max', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'rainc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'rainnc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'lai', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'isice_lu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'iswater_lu', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'sfc_albbck', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'sfc_albedo', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'sfc_emibck', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'mavail', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'sfc_emiss', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'thc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'ust', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'xicem', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'z0', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'znt', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'skintemp', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'snow', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'snowc', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'snowh', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'sst', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'tmn', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'vegfra', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'seaice', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'xice', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'xland', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'u10', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'v10', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'q2', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 't2m', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'precipw', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'dzs', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'zs', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'ter', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'sh2o', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'smois', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'tslb', ierr=ierr)
   call MPAS_stream_mgr_add_field(manager, 'da_state', 'h_oml_initial', ierr=ierr)
   call MPAS_stream_mgr_set_property(manager, 'da_state', MPAS_STREAM_PROPERTY_IMMUTABLE, .true., ierr=ierr)

end function atm_setup_immutable_streams


